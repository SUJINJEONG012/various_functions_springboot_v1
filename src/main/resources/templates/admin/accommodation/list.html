<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="admin/layout/basic">
<th:block layout:fragment="title">
	<title>관리자 슥서 리스트 페이지</title>
</th:block>

<th:block layout:fragment="content">

	<div class="content">

		<section>
			<table class="tb tb_col">
				<colgroup>
					<col style="width: auto;" />
					<col style="width: auto;" />
					<col style="width: auto;" />
					<col style="width: auto;" />
					<col style="width: auto;" />
					<col style="width: auto;" />
					<col style="width: 30%;" />
				</colgroup>

				<thead>
					<tr>
						<th scope="col">번호</th>
						<th scope="col">카테고리</th>
						<th scope="col">이름</th>
						<th scope="col">주소</th>
						<th scope="col">휴대폰번호</th>
						<th scope="col">성급</th>
						<th scope="col">객실가격</th>
						<th scope="col">객실타입</th>
						<th>이미지</th>

					</tr>
				</thead>

				<tbody th:each="accommodation : ${accommodations}">
					<tr>
						<td th:text="${accommodation.accommodationId}"></td>
						<td th:text="${accommodation.accommodationCate}"></td>
						<td th:text="${accommodation.accommodationName}"></td>
						<td th:text="${accommodation.accommodationAdress}"></td>
						<td th:text="${accommodation.accommodationPhone}"></td>
						<td th:text="${accommodation.accommodationGrade}"></td>

						<td th:each="room : ${accommodation.rooms}"
							th:text="${#numbers.formatInteger(room.roomPeak,0,'COMMA') + '원'}"></td>
						<td th:each="room : ${accommodation.rooms}"
							th:text="${room.roomRoomtype} + '등급'"></td>

						<td>
							<!-- 이미지를 출력할 영역 --> 
							<img id="imageDisplay" src="" alt="Image Display" style="width:100%">
						</td>

					</tr>

				</tbody>


			</table>
		</section>

	</div>

</th:block>
<th:block layout:fragment="script">
	<script th:inline="javascript">
		/*<![CDATA[*/

		// 이미지 URL을 가져오는 함수
		function getImageUrl() {
			// 숙소 ID와 파일 ID를 지정하여 이미지를 가져올 URL 생성
			var accommodationId = 1; // 숙소 ID
			var fileId = 1; // 파일 ID
			var imageUrl = "/admin/accommodation/" + accommodationId
					+ "/files/" + fileId + "/list";

			// 이미지를 표시할 img 태그에 URL 설정
			document.getElementById("imageDisplay").src = imageUrl;
		}

		// 페이지 로드 시 이미지 URL 가져오기
		window.onload = function() {
			getImageUrl();
		};

		/*]]>*/
	</script>
</th:block>
</html>